<!DOCTYPE html>
<html lang="pt-BR" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>Editar Funcionário</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <style>
        .navbar-custom { background-color: #EE3338; }
        .btn-save {
            background-color: #EE3338;
            color: white;
            border-color: #EE3338;
        }
        .btn-save:hover {
            background-color: #bb292d;
            border-color: #bb292d;
        }
        .btn-cancel {
            border: 2px solid #EE3338;
            color: #EE3338;
        }
        .btn-cancel:hover {
            background-color: #EE3338;
            color: white;
        }
    </style>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark navbar-custom">
    <div class="container">
        <a class="navbar-brand" th:href="@{/adm/painel-administrativo}">Painel CPTM+</a>
    </div>
</nav>

<main class="container my-4" style="max-width: 600px;">
    <h2>Editar Funcionário CPTM</h2>
    <form th:action="@{/adm/funcionarios}" th:object="${funcionario}" method="post" class="mt-4">
        <input type="hidden" th:field="*{id}" />

        <div class="mb-3">
            <label class="form-label">Nome</label>
            <input type="text" th:field="*{nome}" class="form-control" required/>
        </div>

        <div class="mb-3">
            <label class="form-label">CPF</label>
            <input type="text" th:field="*{cpf}" class="form-control" required/>
        </div>

        <div class="mb-3">
            <label class="form-label">Email</label>
            <input type="email" th:field="*{email}" class="form-control" required/>
        </div>

        <div class="mb-3">
            <label class="form-label">Data de Nascimento</label>
            <input type="date" th:field="*{dataDeNascimento}" class="form-control" required/>
        </div>

        <div class="mb-3">
            <label class="form-label">Senha</label>
            <input type="password" th:field="*{senha}" class="form-control" required/>
        </div>

        <div class="mb-4">
            <label class="form-label">Notificações Enviadas</label>
            <ul class="list-group">
                <li th:each="notif : ${funcionario.notificacoes}" class="list-group-item">
                    <strong>Título:</strong> <span th:text="${notif.titulo}"></span><br/>
                    <strong>Texto:</strong> <span th:text="${notif.texto}"></span><br/>
                    <strong>Data:</strong> <span th:text="${#temporals.format(notif.dataDeEnvio, 'dd/MM/yyyy HH:mm')}"></span><br/>
                    <strong>Linha:</strong> <span th:text="${notif.linha.nome}"></span><br/>
                    <strong>Estação:</strong> <span th:text="${notif.estacao.nome}"></span>
                </li>
            </ul>
        </div>

        <button type="submit" class="btn btn-save">Salvar</button>
        <a th:href="@{/adm/funcionarios/listar}" class="btn btn-cancel ms-2">Cancelar</a>
    </form>
</main>
</body>
</html>
